(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,a,n){e.exports={icons:"SideNavMain_icons__2LVzK",iconHome:"SideNavMain_iconHome__1kj6b",iconsShell:"SideNavMain_iconsShell__1IOZ1"}},149:function(e,a,n){e.exports={heightExpand:"TextChat_heightExpand__3MKmZ",gridformat:"TextChat_gridformat__EOsDz",heightExpandChats:"TextChat_heightExpandChats__NLREp"}},151:function(e,a,n){e.exports={align:"About_align__1Dr4L",grid:"About_grid__1xIgM",hidden:"About_hidden__1g3NU",form:"About_form__2bhnC",form__input:"About_form__input__2kj0P",text__left:"About_text__left__3ETrP",Login_btn:"About_Login_btn__1O896",college_icon:"About_college_icon__33U95"}},16:function(e,a,n){e.exports={align:"Login_align__3YR6F",grid:"Login_grid__2jJyU",hidden:"Login_hidden__RbZG0",form:"Login_form__3HwUO",form__field:"Login_form__field__3pk-n",form__input:"Login_form__input__mvmS7",login:"Login_login__13Uv8",text__left:"Login_text__left__2fDR6",Login_btn:"Login_Login_btn__3iAc0",college_icon:"Login_college_icon__3qYvf"}},172:function(e,a,n){e.exports={gridformat:"AppGrid_gridformat__1LnZJ",heightExpand:"AppGrid_heightExpand__2vQMC",heightExpandChats:"AppGrid_heightExpandChats__3XrSP"}},174:function(e,a,n){e.exports={channel_empty__container:"ChannelContainer_channel_empty__container__IMcCj",channel_empty__first:"ChannelContainer_channel_empty__first__3LgIK","channel_empty__user-name":"ChannelContainer_channel_empty__user-name__2dEwz",channel_empty__second:"ChannelContainer_channel_empty__second__2nXNh",channel__container:"ChannelContainer_channel__container__1c5S6"}},238:function(e,a,n){e.exports={channelListHead:"SideNavChannel_channelListHead__UY6qM",addButton:"SideNavChannel_addButton__1HNbg",searchButton:"SideNavChannel_searchButton__1FPYR"}},296:function(e,a,n){e.exports={loading:"ChannelListCustom_loading__WA9ZE"}},34:function(e,a,n){e.exports={align:"Register_align__3LS2s",grid:"Register_grid__JuKu1",hidden:"Register_hidden__1qz8X",form:"Register_form__2HsqM",form__field:"Register_form__field__QWX3o",form__input:"Register_form__input__2P7GN",login:"Register_login__3hLXS",text__left:"Register_text__left__3EXn_",Login_btn:"Register_Login_btn__1bq8X",college_icon:"Register_college_icon__1LEds"}},470:function(e,a,n){e.exports={logout_modal:"LogoutModal_logout_modal__3ylHt"}},49:function(e,a,n){e.exports={align:"Profile_align__1eF7o",grid:"Profile_grid__2j8k-",hidden:"Profile_hidden__2r1R7",form:"Profile_form__2gsxx",form__field:"Profile_form__field__cQeEA",form__input:"Profile_form__input__3BRGN",login:"Profile_login__2w50F",text__left:"Profile_text__left__3Zacv",Login_btn:"Profile_Login_btn__1XHvv",college_icon:"Profile_college_icon__3MyCt"}},521:function(e,a,n){},70:function(e,a,n){e.exports={team_channel_header__container:"ChannelInner_team_channel_header__container__3Gmzc",team_channel_header__channel_wrapper:"ChannelInner_team_channel_header__channel_wrapper__l7i_H",team_channel_header__name:"ChannelInner_team_channel_header__name__2u6j5",team_channel_header__name_wrapper:"ChannelInner_team_channel_header__name_wrapper__1aUnq",team_channel_header__name_multi:"ChannelInner_team_channel_header__name_multi__-Vcbt","str-chat__avatar":"ChannelInner_str-chat__avatar__zAeE1",user:"ChannelInner_user__1E5Co",team_channel_header__right:"ChannelInner_team_channel_header__right__X8U-l","team_channel_header__right-pin-wrapper":"ChannelInner_team_channel_header__right-pin-wrapper__2PLGQ","team_channel_header__right-text":"ChannelInner_team_channel_header__right-text__2zAvl",team_channel_list:"ChannelInner_team_channel_list__1WqwG",team_channel_list__message:"ChannelInner_team_channel_list__message__78XDG",loading:"ChannelInner_loading__1Nhcx",team_channel_list__header:"ChannelInner_team_channel_list__header__P-qhu",team_channel_list__header__title:"ChannelInner_team_channel_list__header__title__26CJj",watcher_count:"ChannelInner_watcher_count__2Au9W"}},89:function(e,a,n){e.exports={user_list__message:"UserList_user_list__message__2t2AX",user_item__wrapper:"UserList_user_item__wrapper__2QNRk",user_item__name_wrapper:"UserList_user_item__name_wrapper__Gny15",user_item__name:"UserList_user_item__name__1n5xl",user_item__last_active:"UserList_user_item__last_active__3p576",user_item__invite_empty:"UserList_user_item__invite_empty__2VDZF",user_list__container:"UserList_user_list__container__1q9v9",user_list__header:"UserList_user_list__header__zKrCH"}},984:function(e,a,n){},987:function(e,a,n){"use strict";n.r(a);var t=n(0),c=n.n(t),s=n(36),r=n.n(s),i=(n(521),n(985)),l=n(116),o=n(19),_=n(38),j=n(45),d=n.n(j),u=n(74),b=n(18),h=n(15),m=n(482),O=n(147),p=n(1037),x=n(117),f=n.n(x),g=n(112),v=n.n(g),y=n(134),C=n.n(y),S="USER_LOGIN_REQUEST",w="USER_LOGIN_SUCCESS",I="USER_LOGIN_FAIL",N="USER_LOGOUT",L="USER_REGISTER_REQUEST",E="USER_REGISTER_SUCCESS",k="USER_REGISTER_FAIL",R=n(146),U=Object(R.b)({name:"userSlice",initialState:{loading:!1,userInfo:null,error:null},reducers:{userLogin:function(e,a){switch(a.payload.type){case S:e.loading=!0;break;case w:e.loading=!1,e.userInfo=a.payload.payload;break;case I:e.loading=!1,e.error=a.payload.payload;break;case N:e.userInfo=null;break;default:e.loading=!1,e.userInfo=null,e.error=null}},userRegister:function(e,a){switch(a.payload.type){case L:e.loading=!0;break;case E:e.loading=!1,e.userInfo=a.payload.payload;break;case k:e.loading=!1,e.error=a.payload.payload;break;default:e.loading=!1,e.userInfo={},e.error=""}}}}),P=U.actions,D=U,q=n(16),A=n.n(q),F=n.p+"static/media/thapar_icon.675a74eb.jpg",H=n(2),G=function(){var e=Object(t.useState)(null),a=Object(h.a)(e,2),n=a[0],s=a[1],r=Object(t.useState)(!1),i=Object(h.a)(r,2),j=i[0],x=i[1],g=Object(o.f)(),y=Object(_.b)(),N=Object(_.c)((function(e){return e.userSlice.userInfo})),L=Object(t.useState)({email:"",password:""}),E=Object(h.a)(L,2),k=E[0],R=E[1];Object(t.useEffect)((function(){N&&g("/home")}),[g,N]),Object(t.useEffect)((function(){var e=localStorage.getItem("userInfo");e&&y(P.userLogin({type:w,payload:e}))}),[g,y]);var U=function(){var e=Object(u.a)(d.a.mark((function e(a){var n,t,c,r,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x(!1),e.prev=2,y(P.userLogin({type:S})),n=k.email,t=k.password,!n||!t){e.next=15;break}return c={headers:{"Content-type":"application/json"}},e.next=9,C.a.post("http://localhost:5000/api/user/login",{email:n,password:t},c);case 9:r=e.sent,i=r.data,y(P.userLogin({type:w,payload:i})),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=16;break;case 15:s("Incorrect Inputs!");case 16:e.next=24;break;case 18:e.prev=18,e.t0=e.catch(2),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,y(P.userLogin({type:I,payload:l})),s(l),x(!0);case 24:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(a){return e.apply(this,arguments)}}();return Object(H.jsx)(c.a.Fragment,{children:Object(H.jsx)("div",{class:"".concat(A.a.align),children:Object(H.jsxs)("div",{class:"".concat(A.a.grid),children:[Object(H.jsx)("img",{src:F,alt:"Icon",className:A.a.college_icon}),Object(H.jsxs)("form",{onSubmit:U,class:"".concat(A.a.form," ").concat(A.a.login),children:[Object(H.jsxs)("div",{class:A.a.form__field,children:[Object(H.jsx)("label",{for:A.a.login__username,children:Object(H.jsx)(f.a,{})}),Object(H.jsx)(m.a,{autocomplete:"email",id:A.a.login__username,type:"text",name:"email",class:A.a.form__input,placeholder:"Email",onChange:function(e){R(Object(b.a)(Object(b.a)({},k),{},{email:e}))},required:!0})]}),Object(H.jsxs)("div",{class:A.a.form__field,children:[Object(H.jsx)("label",{for:A.a.login__password,children:Object(H.jsx)(v.a,{})}),Object(H.jsx)(m.a,{id:A.a.login__password,type:"password",name:"password",class:A.a.form__input,placeholder:"Password",onChange:function(e){R(Object(b.a)(Object(b.a)({},k),{},{password:e}))},required:!0})]}),Object(H.jsx)("div",{class:A.a.form__field,children:Object(H.jsx)(O.a,{color:"blue",appearance:"primary",className:A.a.Login_btn,type:"submit",children:"Login"})})]}),Object(H.jsx)("br",{}),Object(H.jsxs)("p",{class:"".concat(A.a.text__left),children:["New Member ? ",Object(H.jsx)(l.b,{to:"/request",children:"Request Access"})]}),Object(H.jsx)("br",{}),Object(H.jsx)(p.a,{showIcon:!0,type:"error",hidden:!j,children:n})]})})})},M=n(34),K=n.n(M),T=function(){var e=Object(t.useState)(null),a=Object(h.a)(e,2),n=a[0],s=a[1],r=Object(t.useState)(!1),i=Object(h.a)(r,2),l=i[0],j=i[1],x=Object(o.f)(),g=Object(_.b)(),y=Object(_.c)((function(e){return e.userSlice.userInfo})),S=Object(t.useState)({email:"",password:"",repassword:""}),I=Object(h.a)(S,2),N=I[0],R=I[1];Object(t.useEffect)((function(){y&&x("/home")}),[x,y]),Object(t.useEffect)((function(){var e=localStorage.getItem("userInfo");e&&g(P.userLogin({type:w,payload:e}))}),[x,g]);var U=function(){var e=Object(u.a)(d.a.mark((function e(a){var n,t,c,r,i,l,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),j(!1),e.prev=2,g(P.userRegister({type:L})),n=N.email,t=N.password,c=N.repassword,!(n&&t&&c&&t===c)){e.next=16;break}return r={headers:{"Content-type":"application/json"}},e.next=9,C.a.post("http://localhost:5000/api/user/register",{email:n,password:t},r);case 9:i=e.sent,l=i.data,g(P.userRegister({type:E,payload:l})),g(P.userLogin({type:w,payload:l})),localStorage.setItem("userInfo",JSON.stringify(l)),e.next=18;break;case 16:j(!0),s(t!==c?"Password and Confirm Password must be same!":"Incorrect Inputs!");case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(2),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,g(P.userRegister({type:k,payload:o})),s(o),j(!0);case 26:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(a){return e.apply(this,arguments)}}();return Object(H.jsx)(c.a.Fragment,{children:Object(H.jsx)("div",{class:"".concat(K.a.align),children:Object(H.jsxs)("div",{class:"".concat(K.a.grid),children:[Object(H.jsx)("img",{src:F,alt:"Icon",className:K.a.college_icon}),Object(H.jsxs)("form",{onSubmit:U,class:"".concat(K.a.form," ").concat(K.a.login),children:[Object(H.jsxs)("div",{class:K.a.form__field,children:[Object(H.jsx)("label",{for:K.a.login__username,children:Object(H.jsx)(f.a,{})}),Object(H.jsx)(m.a,{autocomplete:"email",id:K.a.login__username,type:"text",name:"email",class:K.a.form__input,placeholder:"College Email",onChange:function(e){R(Object(b.a)(Object(b.a)({},N),{},{email:e}))},required:!0})]}),Object(H.jsxs)("div",{class:K.a.form__field,children:[Object(H.jsx)("label",{for:K.a.login__password,children:Object(H.jsx)(v.a,{})}),Object(H.jsx)(m.a,{id:K.a.login__password,type:"password",name:"password",class:K.a.form__input,placeholder:"Set Password",onChange:function(e){R(Object(b.a)(Object(b.a)({},N),{},{password:e}))},required:!0})]}),Object(H.jsxs)("div",{class:K.a.form__field,children:[Object(H.jsx)("label",{for:K.a.login__password,children:Object(H.jsx)(v.a,{})}),Object(H.jsx)(m.a,{id:K.a.login__password,type:"password",name:"repassword",class:K.a.form__input,placeholder:"Confirm Password",onChange:function(e){R(Object(b.a)(Object(b.a)({},N),{},{repassword:e}))},required:!0})]}),Object(H.jsx)("div",{class:K.a.form__field,children:Object(H.jsx)(O.a,{color:"blue",appearance:"primary",className:K.a.Login_btn,type:"submit",children:"Register"})})]}),Object(H.jsx)("br",{}),Object(H.jsx)(p.a,{showIcon:!0,type:"error",hidden:!l,children:n})]})})})},z=n(450),B=n.n(z),J=n(451),X=n.n(J),Q=n(452),V=n.n(Q),Z=function(){var e=Object(t.useState)(null),a=Object(h.a)(e,2),n=a[0],s=a[1],r=Object(t.useState)(null),i=Object(h.a)(r,2),o=i[0],_=i[1];return Object(t.useEffect)((function(){n&&_(URL.createObjectURL(n))}),[n]),Object(H.jsx)(c.a.Fragment,{children:Object(H.jsx)("div",{class:"".concat(A.a.align),children:Object(H.jsxs)("div",{class:"".concat(A.a.grid),children:[Object(H.jsx)("img",{src:F,alt:"Icon",className:A.a.college_icon}),Object(H.jsxs)("form",{class:"".concat(A.a.form," ").concat(A.a.login),children:[Object(H.jsxs)("div",{class:A.a.form__field,children:[Object(H.jsx)("label",{for:A.a.login__username,children:Object(H.jsx)(B.a,{})}),Object(H.jsx)(m.a,{autocomplete:"name",id:A.a.login__username,type:"text",name:"name",class:A.a.form__input,placeholder:"Full Name",required:!0})]}),Object(H.jsxs)("div",{class:A.a.form__field,children:[Object(H.jsx)("label",{for:A.a.login__username,children:Object(H.jsx)(f.a,{})}),Object(H.jsx)(m.a,{autocomplete:"email",id:A.a.login__username,type:"text",name:"college_email",class:A.a.form__input,placeholder:"College Email",required:!0})]}),Object(H.jsxs)("div",{class:A.a.form__field,children:[Object(H.jsx)("label",{for:A.a.login__username,children:Object(H.jsx)(f.a,{})}),Object(H.jsx)(m.a,{autocomplete:"email",id:A.a.login__username,type:"text",name:"primary_email",class:A.a.form__input,placeholder:"Primary Email",required:!0})]}),Object(H.jsxs)("div",{class:A.a.form__field,children:[Object(H.jsx)("label",{for:A.a.login__username,children:Object(H.jsx)(X.a,{})}),Object(H.jsx)(m.a,{autocomplete:"year",id:A.a.login__username,type:"text",name:"batch",class:A.a.form__input,placeholder:"Batch (eg. 2022)",required:!0})]}),Object(H.jsxs)("div",{class:A.a.form__field,children:[Object(H.jsx)("label",{for:A.a.login__username,children:Object(H.jsx)(V.a,{})}),Object(H.jsx)(m.a,{autocomplete:"year",id:A.a.login__username,type:"text",name:"branch",class:A.a.form__input,placeholder:"Branch (eg. Computer Engineering)",required:!0})]}),Object(H.jsx)("div",{class:A.a.form__field,children:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("input",{accept:"image/*",type:"file",id:"select-image",style:{display:"none"},onChange:function(e){return s(e.target.files[0])}}),Object(H.jsx)("label",{htmlFor:"select-image",children:Object(H.jsx)("div",{variant:"contained",color:"primary",component:"span",children:"Upload College ID Card"})}),o&&n&&Object(H.jsx)("div",{mt:2,textAlign:"center",children:Object(H.jsx)("img",{src:o,alt:n.name,height:"100px"})})]})}),Object(H.jsx)("div",{class:A.a.form__field,children:Object(H.jsx)(O.a,{color:"blue",appearance:"primary",className:A.a.Login_btn,children:"Request Access"})})]}),Object(H.jsx)("br",{}),Object(H.jsxs)("p",{class:"".concat(A.a.text__left),children:["Have Access ? ",Object(H.jsx)(l.b,{to:"/login",children:"Login"})]}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{})]})})})},$=n(1038),W=n(1039),Y=n(1040),ee=n(484),ae=n(1036),ne=n(456),te=n.n(ne),ce=n(458),se=n.n(ce),re=n(459),ie=n.n(re),le=Object(R.b)({name:"pageSlice",initialState:{page:"home"},reducers:{togglePage:function(e,a){e.page=a.payload.payload}}}),oe=le.actions,_e=le,je=n(113),de=n.n(je),ue=["active","onSelect"],be=function(e){var a=e.active,n=e.onSelect,t=Object(ee.a)(e,ue);return Object(H.jsxs)(ae.a,Object(b.a)(Object(b.a)({},t),{},{vertical:!0,activeKey:a,onSelect:n,style:{height:"100%"},children:[Object(H.jsx)(ae.a.Item,{className:de.a.iconsShell,eventKey:"home",icon:Object(H.jsx)(te.a,{className:"".concat(de.a.icons," ").concat(de.a.iconHome)})}),Object(H.jsx)(ae.a.Item,{className:de.a.iconsShell,eventKey:"profile",icon:Object(H.jsx)(se.a,{className:de.a.icons})}),Object(H.jsx)(ae.a.Item,{className:de.a.iconsShell,eventKey:"about",icon:Object(H.jsx)(ie.a,{className:de.a.icons})})]}))},he=function(){var e=Object(_.b)(),a=c.a.useState("home"),n=Object(h.a)(a,2),s=n[0],r=n[1];return Object(t.useEffect)((function(){e(oe.togglePage({payload:s}))}),[s,e]),Object(H.jsx)(c.a.Fragment,{children:Object(H.jsx)(be,{appearance:"subtle",reversed:!0,active:s,onSelect:r})})},me=n(172),Oe=n.n(me),pe=n(139),xe=n(1033),fe=n(9),ge=n(1031),ve=n(1010),ye=n(479),Ce=n(463),Se=n.n(Ce),we=n(464),Ie=n.n(we),Ne=n(216),Le=n.n(Ne),Ee=n(238),ke=n.n(Ee),Re=n(296),Ue=n.n(Re),Pe=function(e){var a=e.children,n=e.error,t=void 0!==n&&n,s=e.loading,r=e.type;return t?Object(H.jsx)("div",{className:Ue.a.loading,children:"Connection Error! Please try again!"}):s?Object(H.jsxs)("div",{className:Ue.a.loading,children:["team"===r?"Channels ":"Messages"," loading...."]}):Object(H.jsx)(c.a.Fragment,{children:a})},De=n(122),qe=function(e){var a=e.setActiveChannel,n=e.channel,t=e.type,s=Object(fe.b)(),r=(s.channel,s.client),i=function(){var e,a,t,c;return Object(H.jsxs)(ye.a.Item,{eventKey:null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.id,children:["# ",(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.name)||(null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.id)]},null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.id)},l=function(){var e,a,t,c,s,i,l,o,_,j,d=Object.values(n.state.members).filter((function(e){return e.user.id!==r.userID}));return Object(H.jsx)(ye.a.Item,{eventKey:null===(e=d[0])||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id,children:Object(H.jsx)($.a,{children:Object(H.jsxs)(W.a,{children:[Object(H.jsx)(Y.a,{children:Object(H.jsx)(De.a,{image:null===(s=d[0])||void 0===s||null===(i=s.user)||void 0===i?void 0:i.image,name:null===(l=d[0])||void 0===l||null===(o=l.user)||void 0===o?void 0:o.email,size:24})}),Object(H.jsx)(Y.a,{children:Object(H.jsx)("p",{children:null===(_=d[0])||void 0===_||null===(j=_.user)||void 0===j?void 0:j.email})})]})})},null===(t=d[0])||void 0===t||null===(c=t.user)||void 0===c?void 0:c.id)};return Object(H.jsx)(c.a.Fragment,{children:Object(H.jsx)("div",{onClick:function(){console.log(n),a(n)},children:"team"===t?Object(H.jsx)(i,{}):Object(H.jsx)(l,{})})})},Ae=n(1034),Fe=n(1030),He=n(88),Ge=n(89),Me=n.n(Ge),Ke=function(e){var a=e.children;return Object(H.jsxs)("div",{className:Me.a.user_list__container,children:[Object(H.jsxs)("div",{className:Me.a.user_list__header,children:[Object(H.jsx)("p",{children:"User"}),Object(H.jsx)("p",{children:"Invite"})]}),a]})},Te=function(e){var a=e.user,n=e.setSelectedUsers,c=Object(t.useState)(!1),s=Object(h.a)(c,2),r=s[0],i=s[1];return Object(H.jsxs)("div",{className:Me.a.user_item__wrapper,onClick:function(){n(r?function(e){return e.filter((function(e){return e!==a.id}))}:function(e){return[].concat(Object(He.a)(e),[a.id])}),i((function(e){return!e}))},children:[Object(H.jsxs)("div",{className:Me.a.user_item__name_wrapper,children:[Object(H.jsx)(De.a,{image:a.image,name:a.fullName||a.id,size:32}),Object(H.jsx)("p",{className:Me.a.user_item__name,children:a.fullName||a.id})]}),r?Object(H.jsx)(Le.a,{}):Object(H.jsx)("div",{className:Me.a.user_item__invite_empty})]})},ze=function(e){var a=e.setSelectedUsers,n=Object(fe.b)().client,c=Object(t.useState)([]),s=Object(h.a)(c,2),r=s[0],i=s[1],l=Object(t.useState)(!1),o=Object(h.a)(l,2),_=o[0],j=o[1],b=Object(t.useState)(!1),m=Object(h.a)(b,2),O=m[0],p=m[1],x=Object(t.useState)(!1),f=Object(h.a)(x,2),g=f[0],v=f[1];return Object(t.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=2;break}return e.abrupt("return");case 2:return j(!0),e.prev=3,e.next=6,n.queryUsers({id:{$ne:n.userID}},{id:1},{limit:8});case 6:(a=e.sent).users.length?i(a.users):p(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),v(!0);case 13:j(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();n&&e()}),[]),g?Object(H.jsx)(Ke,{children:Object(H.jsx)("div",{className:Me.a.user_list__message,children:"Error loading, please refresh and try again."})}):O?Object(H.jsx)(Ke,{children:Object(H.jsx)("div",{className:Me.a.user_list__message,children:"No users found."})}):Object(H.jsx)(Ke,{children:_?Object(H.jsx)("div",{className:Me.a.user_list__message,children:"Loading users..."}):null===r||void 0===r?void 0:r.map((function(e,n){return Object(H.jsx)(Te,{index:n,user:e,setSelectedUsers:a},e.id)}))})},Be=c.a.forwardRef((function(e,a){return Object(H.jsx)(m.a,Object(b.a)(Object(b.a)({},e),{},{as:"textarea",ref:a}))})),Je=function(e){return Object(H.jsxs)(Ae.a,{open:e.newChannelOpen,onClose:e.handleNewChannelClose,size:"xs",children:[Object(H.jsx)(Ae.a.Header,{children:Object(H.jsx)(Ae.a.Title,{children:"New Channel"})}),Object(H.jsx)(Ae.a.Body,{children:Object(H.jsxs)(Fe.a,{fluid:!0,onChange:e.setChannelFormValue,formValue:e.channelFormValue,children:[Object(H.jsxs)(Fe.a.Group,{controlId:"name-9",onChange:e.channelNameChangeHandler,children:[Object(H.jsx)(Fe.a.ControlLabel,{children:"Channel Name"}),Object(H.jsx)(Fe.a.Control,{name:"channelname"}),Object(H.jsx)(Fe.a.HelpText,{children:"Required"})]}),Object(H.jsxs)(Fe.a.Group,{controlId:"textarea-9",onChange:e.channelDescChangeHandler,children:[Object(H.jsx)(Fe.a.ControlLabel,{children:"Channel Description"}),Object(H.jsx)(Fe.a.Control,{rows:5,name:"channeldescription",accepter:Be})]}),Object(H.jsx)(ze,{setSelectedUsers:e.setSelectedUsers})]})}),Object(H.jsxs)(Ae.a.Footer,{children:[Object(H.jsx)(O.a,{onClick:e.handleNewChannelSubmission,appearance:"primary",children:"Confirm"}),Object(H.jsx)(O.a,{onClick:e.handleNewChannelClose,appearance:"subtle",children:"Cancel"})]})]})},Xe=function(e){return e.filter((function(e){return"team"===e.type}))},Qe=function(e){return e.filter((function(e){return"messaging"===e.type}))},Ve=function(){var e=Object(t.useState)(!1),a=Object(h.a)(e,2),n=a[0],s=a[1],r=Object(t.useState)({channelName:"",channelDescription:""}),i=Object(h.a)(r,2),l=i[0],o=i[1],_=Object(t.useState)(""),j=Object(h.a)(_,2),m=j[0],p=j[1],x=Object(t.useState)("team"),f=Object(h.a)(x,2),g=f[0],v=f[1],y=Object(fe.b)(),C=y.client,S=y.setActiveChannel,w=Object(t.useState)([C.userID||""]),I=Object(h.a)(w,2),N=I[0],L=I[1],E={members:{$in:[C.userID]}},k=Object(t.useState)(""),R=Object(h.a)(k,2),U=R[0],P=R[1],D=Object(t.useState)([]),q=Object(h.a)(D,2),A=(q[0],q[1]),F=Object(t.useState)([]),G=Object(h.a)(F,2),M=(G[0],G[1]);Object(t.useEffect)((function(){U||(A([]),M([]))}),[U]);var K=function(){var e=Object(u.a)(d.a.mark((function e(){var a,n,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=l.channelName,n=l.channelDescription,!a||!n){e.next=20;break}return e.prev=3,e.next=6,C.channel(g,a,{name:a,description:n,members:N});case 6:return t=e.sent,e.next=9,t.watch();case 9:L([C.userID]),S(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:s(!1),o({channelName:"",channelDescription:""}),e.next=20;break;case 20:e.next=24;break;case 22:e.prev=22,e.t1=e.catch(0);case 24:case"end":return e.stop()}}),e,null,[[0,22],[3,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(d.a.mark((function e(){var a,n,t,c,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=C.queryChannels({type:"team",name:{$autocomplete:m},members:{$in:[C.userID]}}),n=C.queryUsers({id:{$ne:C.userID},name:{$autocomplete:m}}),e.next=5,Promise.all([a,n]);case 5:t=e.sent,c=Object(h.a)(t,2),s=c[0],r=c[1].users,s.length&&A(s),r.length&&M(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),P("");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(H.jsx)(c.a.Fragment,{children:Object(H.jsx)(ve.a,{defaultOpenKeys:["3","4"],activeKey:"1",style:{height:"100%"},children:Object(H.jsx)(ve.a.Body,{children:Object(H.jsxs)(ae.a,{style:{paddingTop:10},children:[Object(H.jsx)(ae.a.Item,{eventKey:"1",className:ke.a.channelListHead,icon:Object(H.jsx)(Se.a,{}),children:"ConnectED"}),Object(H.jsxs)(W.a,{children:[Object(H.jsx)(Y.a,{lg:20,children:Object(H.jsx)(ye.a,{eventKey:"3",title:"Channels",icon:Object(H.jsx)(Ie.a,{}),children:Object(H.jsx)(ge.a,{filters:E,channelRenderFilterFn:Xe,List:function(e){return Object(H.jsx)(Pe,Object(b.a)(Object(b.a)({},e),{},{type:"team"}))},Preview:function(e){return Object(H.jsx)(qe,Object(b.a)(Object(b.a)({},e),{},{type:"team"}))}})})}),Object(H.jsx)(Y.a,{children:Object(H.jsx)(O.a,{className:ke.a.addButton,onClick:function(){s(!0),v("team")},children:"+"})})]}),Object(H.jsx)("br",{}),Object(H.jsxs)(W.a,{children:[Object(H.jsx)(Y.a,{lg:20,children:Object(H.jsx)(ye.a,{eventKey:"4",title:"Direct Messages",icon:Object(H.jsx)(Le.a,{}),children:Object(H.jsx)(ge.a,{filters:E,channelRenderFilterFn:Qe,List:function(e){return Object(H.jsx)(Pe,Object(b.a)(Object(b.a)({},e),{},{type:"messaging"}))},Preview:function(e){return Object(H.jsx)(qe,Object(b.a)(Object(b.a)({},e),{},{type:"messaging"}))}})})}),Object(H.jsx)(Y.a,{children:Object(H.jsx)(O.a,{className:ke.a.addButton,onClick:function(){s(!0),v("messaging")},children:"+"})})]}),Object(H.jsx)(Je,{handleNewChannelClose:function(){s(!1)},handleNewChannelSubmission:K,channelNameChangeHandler:function(e){o(Object(b.a)(Object(b.a)({},l),{},{channelName:e.target.value}))},channelDescChangeHandler:function(e){o(Object(b.a)(Object(b.a)({},l),{},{channelDescription:e.target.value}))},channelSearchInputHandler:function(e){p(e)},channelSearchHandler:T,newChannelOpen:n,channelFormValue:l,setSelectedUsers:L})]})})})})},Ze=n(149),$e=n.n(Ze),We=n(1032),Ye=n(1043),ea=n(20),aa=n(1011),na=n(481),ta=n(480),ca=n(1035),sa=n(13),ra=n(468),ia=n.n(ra),la=n(469),oa=n.n(la),_a=n(70),ja=n.n(_a),da=n(470),ua=n.n(da),ba=function(e){return Object(H.jsx)("div",{className:ua.a.logout_modal,children:Object(H.jsxs)(Ae.a,{open:e.logoutModalOpen,onClose:e.handleLogoutClose,size:"xs",children:[Object(H.jsxs)(Ae.a.Header,{children:[Object(H.jsx)(Ae.a.Title,{children:"Do you really want to logout?"}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{})]}),Object(H.jsxs)(Ae.a.Footer,{children:[Object(H.jsx)(O.a,{onClick:e.handleLogoutSubmission,appearance:"primary",children:"Confirm"}),Object(H.jsx)(O.a,{onClick:e.handleLogoutClose,appearance:"subtle",children:"Cancel"})]})]})})},ha=c.a.createContext({}),ma=function(){var e,a=Object(sa.b)(),n=a.channel,c=a.watcher_count,s=Object(fe.b)().client,r=function(){var e=Object.values(n.state.members).filter((function(e){return e.user.id!==s.userID})),a=e.length-3;return"messaging"===n.type?Object(H.jsxs)("div",{children:[e.map((function(e,a){var n=e.user;return Object(H.jsxs)("div",{className:ja.a.team_channel_header__name_multi,children:[Object(H.jsx)(De.a,{image:n.image,name:n.email||n.id,size:32}),Object(H.jsx)("p",{className:"".concat(ja.a.team_channel_header__name," ").concat(ja.a.user),children:n.email||n.id})]},a)})),a>0&&Object(H.jsxs)("p",{className:"".concat(ja.a.team_channel_header__name," ").concat(ja.a.user),children:["and ",a," more"]})]}):Object(H.jsx)("div",{children:Object(H.jsxs)("p",{className:"".concat(ja.a.team_channel_header__name," ").concat(ja.a.user),children:["# ",n.data.name," ","  ",Object(H.jsx)("span",{children:Object(H.jsx)(oa.a,{})})]})})},i=Object(t.useState)(!1),l=Object(h.a)(i,2),o=l[0],j=l[1],d=Object(_.b)();return Object(H.jsxs)("div",{className:"".concat(ja.a.team_channel_header__container," ").concat(ja.a.team_channel_header__channel_wrapper),children:[Object(H.jsx)(r,{}),Object(H.jsxs)("div",{className:ja.a.team_channel_header__right,children:[Object(H.jsx)("span",{className:ja.a.watcher_count,children:(e=c,e?1===e?"1 user online":"".concat(e," users online"):"No users online")}),Object(H.jsx)("span",{children:Object(H.jsxs)(O.a,{onClick:function(){j(!0)},children:[" ","Logout",Object(H.jsx)(ia.a,{})]})})]}),Object(H.jsx)(ba,{logoutModalOpen:o,handleLogoutClose:function(){j(!1)},handleLogoutSubmission:function(){localStorage.removeItem("userInfo"),d({type:N}),j(!1),window.location.reload()}})]})},Oa=function(){var e=Object(t.useState)(!1),a=Object(h.a)(e,2),n=a[0],c=a[1],s=Object(ea.b)().sendMessage;return Object(H.jsx)(ha.Provider,{value:{giphyState:n,setGiphyState:c},children:Object(H.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(H.jsxs)(aa.a,{children:[Object(H.jsx)(ma,{}),Object(H.jsx)(na.a,{}),Object(H.jsx)(ta.a,{overrideSubmitHandler:function(e){var a,t={attachments:e.attachments,mentioned_users:e.mentioned_users,parent_id:null===(a=e.parent)||void 0===a?void 0:a.id,parent:e.parent,text:e.text};n&&(t=Object(b.a)(Object(b.a)({},t),{},{text:"/giphy ".concat(e.text)})),s&&(s(t),c(!1))}})]}),Object(H.jsx)(ca.a,{})]})})},pa=n(174),xa=n.n(pa),fa=function(){return Object(H.jsx)("div",{className:xa.a.channel__container,children:Object(H.jsx)(We.a,{EmptyStateIndicator:function(){return Object(H.jsxs)("div",{className:xa.a.channel_empty__container,children:[Object(H.jsx)("p",{className:xa.a.channel_empty__first,children:"This is the beginning of your chat history."}),Object(H.jsx)("p",{className:xa.a.channel_empty__second,children:"Send messages, attachments, links, emojis, and more!"})]})},Message:function(e,a){return Object(H.jsx)(Ye.a,Object(b.a)({},e),a)},children:Object(H.jsx)(Oa,{})})})},ga=pe.a.getInstance("ghaebtv2akna"),va=JSON.parse(localStorage.getItem("userInfo"));if(va){var ya=va.stream_token;ya&&ga.connectUser({id:va._id,email:va.email},ya)}var Ca=function(){return Object(H.jsxs)(xe.a,{client:ga,theme:"team dark",children:[Object(H.jsx)(Y.a,{lg:5,className:"".concat($e.a.channels," ").concat($e.a.heightExpand),children:Object(H.jsx)(Ve,{})}),Object(H.jsx)(Y.a,{lg:18,className:"".concat($e.a.connectionMain," ").concat($e.a.heightExpand),children:Object(H.jsx)(W.a,{className:$e.a.heightExpandChats,children:Object(H.jsx)(fa,{})})})]})},Sa=n(151),wa=n.n(Sa),Ia=function(){return Object(H.jsx)("div",{class:"".concat(wa.a.align),children:Object(H.jsxs)("div",{class:"".concat(wa.a.grid),children:[Object(H.jsx)("img",{src:F,alt:"Icon",className:wa.a.college_icon}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)("div",{class:"".concat(wa.a.form," ").concat(wa.a.login),children:"ConnectED is a college portal for universities for all internal communications. Technologies used in Portal are React.js, Node.js, MongoDB, StreamSDK."})]})})},Na=n(49),La=n.n(Na),Ea=function(){var e=JSON.parse(Object(_.c)((function(e){return e.userSlice.userInfo}))),a=Object(t.useState)(null),n=Object(h.a)(a,2),c=n[0],s=n[1],r=Object(t.useState)(!1),i=Object(h.a)(r,2),l=i[0],o=i[1],j=Object(t.useState)(!0),x=Object(h.a)(j,2),f=x[0],g=x[1],y=Object(t.useState)({password:"",repassword:""}),S=Object(h.a)(y,2),w=S[0],I=S[1],N=function(){var a=Object(u.a)(d.a.mark((function a(n){var t,c,r,i,l,_;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),o(!1),a.prev=2,t=w.password,c=w.repassword,!t||!c||t!==c){a.next=14;break}return r={headers:{"Content-type":"application/json"}},a.next=8,C.a.post("http://localhost:5000/api/user/profile",Object(b.a)(Object(b.a)({},e),{},{password:t}),r);case 8:i=a.sent,l=i.data,localStorage.setItem("userInfo",JSON.stringify(l)),g(!1),a.next=17;break;case 14:o(!0),g(!0),s(t!==c?"Password and Confirm Password must be same!":"Incorrect Inputs!");case 17:a.next=25;break;case 19:a.prev=19,a.t0=a.catch(2),_=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message,s(_),o(!0),g(!0);case 25:case"end":return a.stop()}}),a,null,[[2,19]])})));return function(e){return a.apply(this,arguments)}}();return Object(H.jsx)("div",{class:"".concat(La.a.align),children:Object(H.jsxs)("div",{class:"".concat(La.a.grid),children:[Object(H.jsx)("img",{src:F,alt:"Icon",className:La.a.college_icon}),Object(H.jsxs)("form",{onSubmit:N,class:"".concat(La.a.form," ").concat(La.a.login),children:[Object(H.jsxs)("div",{class:La.a.form__field,children:[Object(H.jsx)("label",{for:La.a.login__password,children:Object(H.jsx)(v.a,{})}),Object(H.jsx)(m.a,{id:La.a.login__password,type:"password",name:"password",class:La.a.form__input,placeholder:"Change Password",onChange:function(e){I(Object(b.a)(Object(b.a)({},w),{},{password:e}))},required:!0})]}),Object(H.jsxs)("div",{class:La.a.form__field,children:[Object(H.jsx)("label",{for:La.a.login__password,children:Object(H.jsx)(v.a,{})}),Object(H.jsx)(m.a,{id:La.a.login__password,type:"password",name:"repassword",class:La.a.form__input,placeholder:"Confirm Changed Password",onChange:function(e){I(Object(b.a)(Object(b.a)({},w),{},{repassword:e}))},required:!0})]}),Object(H.jsx)("div",{class:La.a.form__field,children:Object(H.jsx)(O.a,{color:"blue",appearance:"primary",className:La.a.Login_btn,type:"submit",children:"Update Password"})})]}),Object(H.jsx)("br",{}),Object(H.jsx)(p.a,{showIcon:!0,type:"error",hidden:!l,children:c}),Object(H.jsx)(p.a,{showIcon:!0,type:"success",hidden:f,children:"Success!"})]})})},ka=function(){var e=Object(_.c)((function(e){return e.pageSlice.page}));return Object(H.jsx)($.a,{fluid:!0,className:Oe.a.heightExpand,children:Object(H.jsxs)(W.a,{className:Oe.a.heightExpand,children:[Object(H.jsx)(Y.a,{lg:.5,className:"".concat(Oe.a.sidemain," ").concat(Oe.a.heightExpand),children:Object(H.jsx)(he,{})}),"home"===e&&Object(H.jsx)(Ca,{}),"about"===e&&Object(H.jsx)(Ia,{}),"profile"===e&&Object(H.jsx)(Ea,{})]})})},Ra=(n(982),n(983),n(984),function(){var e=Object(_.b)(),a=Object(_.c)((function(e){return e.userSlice.userInfo}));return Object(t.useEffect)((function(){var a=localStorage.getItem("userInfo");a&&e(P.userLogin({type:w,payload:a}))}),[e]),Object(H.jsx)(i.a,{theme:"dark",children:Object(H.jsx)(l.a,{children:Object(H.jsxs)(o.c,{children:[Object(H.jsx)(o.a,{exact:!0,path:"/",element:a?Object(H.jsx)(ka,{}):Object(H.jsx)(G,{})}),Object(H.jsx)(o.a,{exact:!0,path:"/home",element:a?Object(H.jsx)(ka,{}):Object(H.jsx)(G,{})}),Object(H.jsx)(o.a,{exact:!0,path:"/login",element:a?Object(H.jsx)(ka,{}):Object(H.jsx)(G,{})}),Object(H.jsx)(o.a,{path:"/register",element:a?Object(H.jsx)(ka,{}):Object(H.jsx)(T,{})}),Object(H.jsx)(o.a,{path:"/request",element:a?Object(H.jsx)(ka,{}):Object(H.jsx)(Z,{})})]})})})}),Ua=Object(R.a)({reducer:{userSlice:D.reducer,pageSlice:_e.reducer}});r.a.render(Object(H.jsx)(_.a,{store:Ua,children:Object(H.jsx)(Ra,{})}),document.getElementById("root"))}},[[987,1,2]]]);
//# sourceMappingURL=main.f2b442d0.chunk.js.map